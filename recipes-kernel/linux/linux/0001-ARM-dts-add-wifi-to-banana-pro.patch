From 6f6a00754314b4993dc7e72aaa12d64c1bb98e51 Mon Sep 17 00:00:00 2001
From: Tyler Hall <tylerwhall@gmail.com>
Date: Sat, 28 May 2016 13:29:49 -0400
Subject: [PATCH] ARM: dts: add wifi to banana pro

---
 arch/arm/boot/dts/sun7i-a20-bananapro.dts | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

diff --git a/arch/arm/boot/dts/sun7i-a20-bananapro.dts b/arch/arm/boot/dts/sun7i-a20-bananapro.dts
index fb89fe7..c7ce5bb 100644
--- a/arch/arm/boot/dts/sun7i-a20-bananapro.dts
+++ b/arch/arm/boot/dts/sun7i-a20-bananapro.dts
@@ -165,6 +165,24 @@
 	bus-width = <4>;
 	non-removable;
 	status = "okay";
+
+	#address-cells = <1>;
+	#size-cells = <0>;
+
+	brcmf: bcrmf@1 {
+		reg = <1>;
+		compatible = "brcm,bcm4329-fmac";
+		interrupt-parent = <&pio>;
+		interrupts = <15 IRQ_TYPE_LEVEL_LOW>; /* PH15 / EINT15 */
+		interrupt-names = "host-wake";
+		pinctrl-names = "default";
+		pinctrl-0 = <&mmc3_irq_bananapro>;
+	};
+};
+
+&mmc3_pins_a {
+	/* AP6210 requires pull-up */
+	allwinner,pull = <SUN4I_PINCTRL_PULL_UP>;
 };
 
 &ohci0 {
@@ -217,6 +235,13 @@
 		allwinner,drive = <SUN4I_PINCTRL_10_MA>;
 		allwinner,pull = <SUN4I_PINCTRL_NO_PULL>;
 	};
+
+	mmc3_irq_bananapro: mmc3_irq_pin@0 {
+		allwinner,pins = "PH15";
+		allwinner,function = "gpio_in";
+		allwinner,drive = <SUN4I_PINCTRL_10_MA>;
+		allwinner,pull = <SUN4I_PINCTRL_NO_PULL>;
+	};
 };
 
 &reg_usb1_vbus {
-- 
2.8.2

